{"ast":null,"code":"import _regeneratorRuntime from\"/home/arkaanfast/Desktop/Twimbit-client/twim-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/arkaanfast/Desktop/Twimbit-client/twim-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/arkaanfast/Desktop/Twimbit-client/twim-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useHistory}from'react-router-dom';import M from\"materialize-css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var callBack=_ref.callBack;var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],emailState=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],passwordState=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],nameState=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],confirmPasswordState=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var handleRegister=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(password===confirmPassword)){_context.next=11;break;}setLoading(true);_context.next=4;return fetch(\"https://twimbit-api.herokuapp.com/api/auth/register\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,password:password,email:email})});case 4:res=_context.sent;_context.next=7;return res.json();case 7:data=_context.sent;if(res.status===201){callBack();history.push('/login');M.toast({html:\"Login In to Continue\",classes:\"#c62828 red darken-3\"});}else if(res.status===500){M.toast({html:data.message,classes:\"#c62828 red darken-3\"});emailState('');nameState('');passwordState('');confirmPasswordState('');setLoading(false);}_context.next=12;break;case 11:return _context.abrupt(\"return\",M.toast({html:\"Passwords dont match\",classes:\"#c62828 red darken-3\"}));case 12:case\"end\":return _context.stop();}}},_callee);}));return function handleRegister(){return _ref2.apply(this,arguments);};}();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loader\",style:{position:\"absolute\",bottom:\"50%\",right:\" 50%\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"preloader-wrapper small active\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"spinner-layer spinner-green-only\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"circle-clipper left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"gap-patch\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"circle-clipper right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"login__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{textAlign:'center',marginTop:\"8rem\"},children:/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome !!\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();handleRegister();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row input__field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12 l6 offset-l3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix\",children:\"email\"}),/*#__PURE__*/_jsx(\"input\",{requried:\"true\",placeholder:\"Email\",id:\"icon_prefix\",type:\"email\",className:\"validate\",value:email,onChange:function onChange(e){emailState(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row input__field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12 l6 offset-l3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix\",children:\"accessibility\"}),/*#__PURE__*/_jsx(\"input\",{requried:\"true\",placeholder:\"Name\",id:\"icon_prefix1\",type:\"text\",className:\"validate\",value:name,onChange:function onChange(e){nameState(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col col s12 l6 offset-l3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix\",children:\"account_circle\"}),/*#__PURE__*/_jsx(\"input\",{requried:\"true\",placeholder:\"Password\",id:\"icon_telephone\",type:\"password\",className:\"validate\",value:password,onChange:function onChange(e){passwordState(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col col s12 l6 offset-l3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix\",children:\"check_circle\"}),/*#__PURE__*/_jsx(\"input\",{requried:\"true\",placeholder:\"Confrim Password\",id:\"icon_telephone1\",type:\"password\",className:\"validate\",value:confirmPassword,onChange:function onChange(e){confirmPasswordState(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col s6 offset-s3\",style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\",className:\"btn waves-effect waves-light #64b5f6 blue lighten-2\",onClick:function onClick(){return handleRegister();}})})})]})]});};export default Register;","map":{"version":3,"sources":["/home/arkaanfast/Desktop/Twimbit-client/twim-blog/src/components/AuthComponents/RegisterComponent.jsx"],"names":["React","useState","useHistory","M","Register","callBack","history","email","emailState","password","passwordState","name","nameState","confirmPassword","confirmPasswordState","loading","setLoading","handleRegister","fetch","method","headers","body","JSON","stringify","res","json","data","status","push","toast","html","classes","message","position","bottom","right","textAlign","marginTop","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport M from \"materialize-css\";\n\n\n\nconst Register = ({ callBack }) => {\n    const history = useHistory();\n    const [email, emailState] = useState('');\n    const [password, passwordState] = useState('');\n    const [name, nameState] = useState('');\n    const [confirmPassword, confirmPasswordState] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const handleRegister = async () => {\n\n        if (password === confirmPassword) {\n            setLoading(true);\n            const res = await fetch(\"https://twimbit-api.herokuapp.com/api/auth/register\", {\n                method: \"post\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({\n                    name,\n                    password,\n                    email,\n                }),\n            });\n            const data = await res.json();\n            if (res.status === 201) {\n                callBack();\n                history.push('/login');\n                M.toast({ html: \"Login In to Continue\", classes: \"#c62828 red darken-3\" });\n            } else if (res.status === 500) {\n                M.toast({ html: data.message, classes: \"#c62828 red darken-3\" });\n                emailState('');\n                nameState('');\n                passwordState('');\n                confirmPasswordState('');\n                setLoading(false);\n            }\n        }\n        else {\n            return M.toast({\n                html: \"Passwords dont match\",\n                classes: \"#c62828 red darken-3\",\n            });\n        }\n\n\n    }\n\n\n\n    if (loading) {\n        return (\n            <div className=\"loader\" style={{\n                position: \"absolute\",\n                bottom: \"50%\",\n                right: \" 50%\"\n            }}>\n                <div className=\"preloader-wrapper small active\">\n                    <div className=\"spinner-layer spinner-green-only\">\n                        <div className=\"circle-clipper left\">\n                            <div className=\"circle\"></div>\n                        </div>\n                        <div className=\"gap-patch\">\n                            <div className=\"circle\"></div>\n                        </div>\n                        <div className=\"circle-clipper right\">\n                            <div className=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"container\" id=\"login__container\">\n            <div className=\"row\" style={{ textAlign: 'center', marginTop: \"8rem\" }}>\n                <h1>Welcome !!</h1>\n            </div>\n            <form onSubmit={(e) => { e.preventDefault(); handleRegister() }}>\n                <div className=\"row input__field\">\n                    <div className=\"input-field col s12 l6 offset-l3\" >\n                        <i className=\"material-icons prefix\">email</i>\n                        <input requried=\"true\" placeholder=\"Email\" id=\"icon_prefix\" type=\"email\" className=\"validate\" value={email} onChange={(e) => { emailState(e.target.value) }} />\n\n                    </div>\n                </div>\n                <div className=\"row input__field\">\n                    <div className=\"input-field col s12 l6 offset-l3\" >\n                        <i className=\"material-icons prefix\">accessibility</i>\n                        <input requried=\"true\" placeholder=\"Name\" id=\"icon_prefix1\" type=\"text\" className=\"validate\" value={name} onChange={(e) => { nameState(e.target.value) }} />\n\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"input-field col col s12 l6 offset-l3\" >\n                        <i className=\"material-icons prefix\">account_circle</i>\n                        <input requried=\"true\" placeholder=\"Password\" id=\"icon_telephone\" type=\"password\" className=\"validate\" value={password} onChange={(e) => { passwordState(e.target.value) }} />\n\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"input-field col col s12 l6 offset-l3\" >\n                        <i className=\"material-icons prefix\">check_circle</i>\n                        <input requried=\"true\" placeholder=\"Confrim Password\" id=\"icon_telephone1\" type=\"password\" className=\"validate\" value={confirmPassword} onChange={(e) => { confirmPasswordState(e.target.value) }} />\n\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col s6 offset-s3\" style={{ textAlign: 'center' }}>\n                        <input type='submit' value=\"Register\" className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" onClick={() => handleRegister()} />\n                    </div>\n                </div>\n            </form>\n        </div>\n\n\n    );\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}