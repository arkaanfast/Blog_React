{"ast":null,"code":"import _regeneratorRuntime from\"/home/arkaanfast/Desktop/Twimbit-client/twim-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/arkaanfast/Desktop/Twimbit-client/twim-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/arkaanfast/Desktop/Twimbit-client/twim-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import M from\"materialize-css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(){var history=useHistory();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var createPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return fetch(\"https://twimbit-api.herokuapp.com/api/post/createPost\",{method:\"post\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({title:title,content:content})});case 3:res=_context.sent;if(res.status===200){history.goBack();setLoading(false);}else{setLoading(false);M.toast({html:\"Some Error Occured\",classes:\"#c62828 red darken-3\"});}case 5:case\"end\":return _context.stop();}}},_callee);}));return function createPost(){return _ref.apply(this,arguments);};}();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loader\",style:{position:\"absolute\",bottom:\"50%\",right:\" 50%\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"preloader-wrapper small active\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"spinner-layer spinner-green-only\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"circle-clipper left\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"gap-patch\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"circle-clipper right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"circle\"})})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"login__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{textAlign:'center',marginTop:\"8rem\"},children:/*#__PURE__*/_jsx(\"h1\",{children:\"Create Post !!\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();createPost();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"row input__field\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col s12 l6 offset-l3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix\",children:\"local_bar\"}),/*#__PURE__*/_jsx(\"input\",{required:\"true\",placeholder:\"Title\",id:\"icon_prefix\",type:\"text\",className:\"validate\",value:title,onChange:function onChange(e){setTitle(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-field col col s12 l6 offset-l3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons prefix\",children:\"lightbulb_outline\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",cols:\"50\",style:{padding:'1rem'},required:\"true\",placeholder:\"Content\",id:\"icon_telephone\",type:\"text\",className:\"validate\",value:content,onChange:function onChange(e){setContent(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col s6 offset-s3\",style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create\",className:\"btn waves-effect waves-light #64b5f6 blue lighten-2\"})})})]})]});};export default CreatePost;","map":{"version":3,"sources":["/home/arkaanfast/Desktop/Twimbit-client/twim-blog/src/components/HomeComponent/CreatePost.jsx"],"names":["React","useState","useHistory","M","CreatePost","history","title","setTitle","content","setContent","loading","setLoading","createPost","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","res","status","goBack","toast","html","classes","position","bottom","right","textAlign","marginTop","e","preventDefault","target","value","padding"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport M from \"materialize-css\";\n\n\nconst CreatePost = () => {\n    const history = useHistory();\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const createPost = async () => {\n        setLoading(true);\n\n        const res = await fetch(\"https://twimbit-api.herokuapp.com/api/post/createPost\", {\n            method: \"post\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\n            },\n            body: JSON.stringify({\n                title: title,\n                content: content,\n            }),\n        });\n\n        if (res.status === 200) {\n            history.goBack();\n            setLoading(false);\n        } else {\n            setLoading(false);\n            M.toast({ html: \"Some Error Occured\", classes: \"#c62828 red darken-3\" });\n        }\n    }\n\n\n\n    if (loading) {\n        return (\n            <div className=\"loader\" style={{\n                position: \"absolute\",\n                bottom: \"50%\",\n                right: \" 50%\"\n            }}>\n                <div className=\"preloader-wrapper small active\">\n                    <div className=\"spinner-layer spinner-green-only\">\n                        <div className=\"circle-clipper left\">\n                            <div className=\"circle\"></div>\n                        </div>\n                        <div className=\"gap-patch\">\n                            <div className=\"circle\"></div>\n                        </div>\n                        <div className=\"circle-clipper right\">\n                            <div className=\"circle\"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"container\" id=\"login__container\">\n            <div className=\"row\" style={{ textAlign: 'center', marginTop: \"8rem\" }}>\n                <h1>Create Post !!</h1>\n            </div>\n            <form onSubmit={(e) => { e.preventDefault(); createPost() }}>\n                <div className=\"row input__field\">\n                    <div className=\"input-field col s12 l6 offset-l3\" >\n                        <i className=\"material-icons prefix\">local_bar</i>\n                        <input required=\"true\" placeholder=\"Title\" id=\"icon_prefix\" type=\"text\" className=\"validate\" value={title} onChange={(e) => { setTitle(e.target.value) }} />\n\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"input-field col col s12 l6 offset-l3\" >\n                        <i className=\"material-icons prefix\">lightbulb_outline</i>\n                        <textarea rows=\"4\" cols=\"50\" style={{ padding: '1rem' }} required=\"true\" placeholder=\"Content\" id=\"icon_telephone\" type=\"text\" className=\"validate\" value={content} onChange={(e) => { setContent(e.target.value) }} />\n\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div className=\"col s6 offset-s3\" style={{ textAlign: 'center' }}>\n                        <input type=\"submit\" value=\"Create\" className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" />\n                    </div>\n                </div>\n\n            </form>\n        </div>\n\n\n    );\n}\n\nexport default CreatePost"]},"metadata":{},"sourceType":"module"}