{"ast":null,"code":"import _slicedToArray from\"/home/arkaanfast/Desktop/Twimbit-client/twim-blog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import React,{useReducer,useEffect,createContext,useState,useContext}from'react';import{BrowserRouter as Router,Route,Switch,useHistory}from'react-router-dom';import{reducer}from'./reducers/userReducer';import NavBar from'./components/NavBarComponent/NavBarComponent';import Register from'./components/AuthComponents/RegisterComponent';import Login from'./components/AuthComponents/LoginComponent';import Home from'./components/HomeComponent/HomeComponent';import PostDetail from'./components/HomeComponent/PostDetail.jsx';import CreatePost from'./components/HomeComponent/CreatePost.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var NavBarContext=/*#__PURE__*/createContext();export var UserContext=/*#__PURE__*/createContext();var Routing=function Routing(_ref){var callBack=_ref.callBack;var history=useHistory();var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;useEffect(function(){var user=JSON.parse(localStorage.getItem(\"user\"));if(user){dispatch({type:\"USER\",payload:user});callBack(user);history.push('/');}else{history.push('/login');}},[]);return/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/createPost\",children:/*#__PURE__*/_jsx(CreatePost,{})}),/*#__PURE__*/_jsx(Route,{path:\"/postDetails\",children:/*#__PURE__*/_jsx(PostDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",children:/*#__PURE__*/_jsx(Register,{callBack:callBack})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:/*#__PURE__*/_jsx(Login,{callBack:callBack})}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Home,{})})]});};function App(){var _useState=useState({page:'login',userData:null}),_useState2=_slicedToArray(_useState,2),type=_useState2[0],navBarState=_useState2[1];var _useReducer=useReducer(reducer,null),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];function changeNavState(user){dispatch({type:\"USER\",payload:user});if(user){navBarState({page:'logedIn',userData:user});}else{navBarState({page:'login'});}}return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(NavBarContext.Provider,{value:[type,navBarState],children:/*#__PURE__*/_jsx(NavBar,{})}),/*#__PURE__*/_jsx(UserContext.Provider,{value:{state:state,dispatch:dispatch},children:/*#__PURE__*/_jsx(Routing,{callBack:changeNavState})})]});}export default App;","map":{"version":3,"sources":["/home/arkaanfast/Desktop/Twimbit-client/twim-blog/src/App.js"],"names":["React","useReducer","useEffect","createContext","useState","useContext","BrowserRouter","Router","Route","Switch","useHistory","reducer","NavBar","Register","Login","Home","PostDetail","CreatePost","NavBarContext","UserContext","Routing","callBack","history","state","dispatch","user","JSON","parse","localStorage","getItem","type","payload","push","App","page","userData","navBarState","changeNavState"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, { useReducer, useEffect, createContext, useState, useContext } from 'react';\nimport { BrowserRouter as Router, Route, Switch, useHistory } from 'react-router-dom';\nimport { reducer } from './reducers/userReducer';\nimport NavBar from './components/NavBarComponent/NavBarComponent';\nimport Register from './components/AuthComponents/RegisterComponent';\nimport Login from './components/AuthComponents/LoginComponent';\nimport Home from './components/HomeComponent/HomeComponent';\nimport PostDetail from './components/HomeComponent/PostDetail.jsx';\nimport CreatePost from './components/HomeComponent/CreatePost.jsx';\n\nexport const NavBarContext = createContext();\nexport const UserContext = createContext();\n\nconst Routing = ({ callBack }) => {\n    const history = useHistory()\n    const { state, dispatch } = useContext(UserContext);\n\n    useEffect(() => {\n        const user = JSON.parse(localStorage.getItem(\"user\"))\n        if (user) {\n            dispatch({ type: \"USER\", payload: user })\n            callBack(user);\n            history.push('/')\n        } else {\n            history.push('/login')\n        }\n    }, [])\n\n    return (\n        <Switch>\n            <Route path=\"/createPost\">\n                <CreatePost />\n            </Route>\n            <Route path=\"/postDetails\">\n                <PostDetail />\n            </Route>\n            <Route path=\"/register\">\n                <Register callBack={callBack} />\n            </Route>\n            <Route path=\"/login\">\n                <Login callBack={callBack} />\n            </Route>\n            <Route path=\"/\">\n                <Home />\n            </Route>\n\n        </Switch>\n    );\n};\n\nfunction App() {\n    const [type, navBarState] = useState({ page: 'login', userData: null });\n    const [state, dispatch] = useReducer(reducer, null);\n\n    function changeNavState(user) {\n        dispatch({ type: \"USER\", payload: user })\n        if (user) {\n            navBarState({ page: 'logedIn', userData: user })\n        } else {\n            navBarState({ page: 'login' });\n        }\n\n    }\n\n    return (\n        <Router>\n            <NavBarContext.Provider value={[type, navBarState]}>\n                <NavBar />\n            </NavBarContext.Provider>\n            <UserContext.Provider value={{ state, dispatch }}>\n                <Routing callBack={changeNavState} />\n            </UserContext.Provider>\n        </Router>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}